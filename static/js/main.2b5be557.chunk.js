(this.webpackJsonpmuscle_spelling=this.webpackJsonpmuscle_spelling||[]).push([[0],{50:function(e,t,n){e.exports=n(62)},55:function(e,t,n){},60:function(e,t,n){e.exports=n.p+"static/media/success.a8e58690.mp3"},61:function(e,t,n){e.exports=n.p+"static/media/fail.23730a41.mp3"},62:function(e,t,n){"use strict";n.r(t);var a,i=n(1),r=n.n(i),c=n(21),o=n.n(c),l=(n(55),n(11)),s=(n(33),n(77)),u=n(81),d=n(78),f=n(44),p=n(29),h=n(80),m=n(79),g=n(39),y=n.n(g),b=n(82);!function(e){e[e.Faded=0]="Faded",e[e.Correct=1]="Correct",e[e.Highlight=2]="Highlight"}(a||(a={}));var v,w,E=function(e){switch(e){case a.Faded:return"#eee";case a.Correct:return"green";case a.Highlight:return"brown";default:return"#eee"}},x=function(e){var t=e.word;return r.a.createElement(s.a,{display:"flex",flexDirection:"row"},t.map((function(e,t){return r.a.createElement(s.a,{key:t,paddingRight:"20px"},r.a.createElement(b.a,{elevation:3},r.a.createElement(s.a,{width:"70px",height:"90px",textAlign:"center",fontSize:"70px",color:E(e?e.type:void 0)},e?e.char:"_")))})))},S="abcdefghijklmnopqrstuvwxyz".split(""),j=function(e){var t=e.blind,n=e.targetWord,i=e.commonErrorWord,c=e.onSuccess,o=e.onFail,u=r.a.useRef(),d=r.a.useState(""),f=Object(l.a)(d,2),p=f[0],h=f[1],m=p.length;r.a.useEffect((function(){if(0===m){var e=new SpeechSynthesisUtterance(n);window.speechSynthesis.speak(e)}var t=n.split("")[m];u.current&&(S.filter((function(e){return e!==t})).forEach((function(e){return u.current.physicalKeyboard.handleHighlightKeyUp({key:e,code:"key"})})),u.current.physicalKeyboard.handleHighlightKeyDown({key:t,code:"key"}))}),[m,n]),r.a.useEffect((function(){var e=function(e){var t=e.key;S.includes(t)&&(n.split("")[m]===t?m===n.length-1?c():h((function(e){return e+t})):o(p+t))};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[o,c,m,n,h,p]);var g=i?n.split("").findIndex((function(e,t){return i.split("")[t]!==e})):void 0;return r.a.createElement(s.a,{position:"absolute",width:"100%",height:"100%",p:"10px",display:"flex",flexDirection:"column",alignItems:"center"},r.a.createElement(s.a,{display:"flex",flexDirection:"row"},r.a.createElement(x,{word:n.split("").map((function(e,n){return!t&&void 0!==g&&n===g&&n>=m?{char:e,type:a.Highlight}:!t||n<m?{char:e,type:n<m?a.Correct:a.Faded}:void 0}))})),!t&&r.a.createElement(s.a,{paddingTop:"80px",paddingX:"80px",alignSelf:"stretch"},r.a.createElement(y.a,{keyboardRef:function(e){u.current=e},onChange:function(){},onKeyPress:function(){}})))},k=n(35),O=n(60),C=n(61);!function(e){e.Success="SUCCESS",e.Fail="FAIL",e.Play="PLAY",e.Blind="BLIND"}(w||(w={}));var F=Object(h.a)({id:"success",initial:w.Blind,context:{},states:(v={},Object(p.a)(v,w.Play,{on:{success:w.Blind,fail:w.Fail}}),Object(p.a)(v,w.Blind,{on:{success:w.Success,fail:w.Fail}}),Object(p.a)(v,w.Fail,{after:{200:{target:w.Play,actions:[]}}}),Object(p.a)(v,w.Success,{after:{1e3:w.Blind}}),v)});var A=function(e){var t=e.words,n=e.multiply,a=e.onResult,i=r.a.useState((function(){for(var e=[],a=0;a<n;a++)e.push.apply(e,Object(f.a)(t));return function(e){for(var t=e,n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),i=t[n];t[n]=t[a],t[a]=i}return t}(e)})),c=Object(l.a)(i,1)[0],o=r.a.useState(c.reduce((function(e,t){return e[t]={failedAttempts:0},e}),{})),u=Object(l.a)(o,2),d=u[0],p=u[1],h=Object(k.a)(O),g=Object(l.a)(h,1)[0],y=Object(k.a)(C),b=Object(l.a)(y,1)[0],v=Object(m.a)(F),E=Object(l.a)(v,2),x=E[0].value,S=E[1],A=r.a.useState(0),B=Object(l.a)(A,2),L=B[0],I=B[1],P=r.a.useState(void 0),W=Object(l.a)(P,2),D=W[0],H=W[1],R=c[L%c.length];return r.a.useEffect((function(){L===c.length&&a(d)}),[d,L,a,c]),x===w.Play?r.a.createElement(j,{key:"play",blind:!1,targetWord:R,commonErrorWord:D,onSuccess:function(){S({type:"success"}),g()},onFail:function(e){p((function(e){return e[R].failedAttempts++,e})),H(e),S({type:"fail"}),b()}}):x===w.Blind?r.a.createElement(j,{key:"blind",blind:!0,targetWord:R,onSuccess:function(){S({type:"success"}),g(),I((function(e){return e+1}))},onFail:function(e){p((function(e){return e[R].failedAttempts++,e})),H(e),S({type:"fail"}),b()}}):x===w.Success?r.a.createElement(s.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"green"}}):r.a.createElement(s.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"red"}})},B=["beautiful","didactic","esteem","Unfortunately","curiosity","believe","Interesting","quickly","processor","Rabbit","cancelled","inspiration","Possibly","especially","improvement","existing","happening","allowed","behavior","crucial","Existing","stretch","shuffle"].map((function(e){return e.toLocaleLowerCase()}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){var e=r.a.useState(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],i=r.a.useState(B),c=Object(l.a)(i,2),o=c[0],f=c[1],p=r.a.useState(void 0),h=Object(l.a)(p,2),m=h[0],g=h[1];return n?r.a.createElement(A,{onResult:function(e){console.log(e);var t=Object.entries(e).sort((function(e,t){return t[1].failedAttempts-e[1].failedAttempts})).map((function(e){return{word:e[0],failedAttempts:e[1].failedAttempts}}));g(t);var n=t.map((function(e){return e.word}));f(n),a(!1)},multiply:3,words:o.filter((function(e){return e.length>0}))}):r.a.createElement(s.a,{position:"absolute",width:"100%",height:"100%",p:"10px",display:"flex",flexDirection:"column",alignItems:"center"},m&&m.map((function(e,t){return r.a.createElement(s.a,{key:t},e.failedAttempts," - ",e.word)})),r.a.createElement(u.a,{value:o.join("\n"),onChange:function(e){if(e.target&&e.target.value){var t=e.target.value;f(t.toLocaleString().split("\n")),console.log(t)}}}),r.a.createElement(d.a,{onClick:function(){return a(!0)}},"Start"))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[50,1,2]]]);
//# sourceMappingURL=main.2b5be557.chunk.js.map