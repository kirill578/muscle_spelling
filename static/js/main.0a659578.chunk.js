(this.webpackJsonpmuscle_spelling=this.webpackJsonpmuscle_spelling||[]).push([[0],{48:function(e,t,a){e.exports=a.p+"static/media/success.a8e58690.mp3"},49:function(e,t,a){e.exports=a.p+"static/media/fail.23730a41.mp3"},61:function(e,t,a){e.exports=a(71)},66:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(26),l=a.n(i),o=(a(66),a(14)),u=(a(36),a(94)),s=a(103),f=a(92),d=a(97),p=a(101),m=a(99),h=a(100),g=a(95),b=a(102),y=a(33),v=a(23),E=a(98),j=a(96),w=a(50),S=a.n(w),x=a(90);!function(e){e[e.Faded=0]="Faded",e[e.Correct=1]="Correct",e[e.Highlight=2]="Highlight"}(n||(n={}));var O,k,C=function(e){switch(e){case n.Faded:return"#eee";case n.Correct:return"green";case n.Highlight:return"brown";default:return"#eee"}},A=function(e){var t=e.word;return c.a.createElement(u.a,{display:"flex",flexDirection:"row"},t.map((function(e,t){return c.a.createElement(u.a,{key:t,paddingRight:"20px"},c.a.createElement(x.a,{elevation:3},c.a.createElement(u.a,{width:"70px",height:"90px",textAlign:"center",fontSize:"70px",color:C(e?e.type:void 0)},e?e.char:"_")))})))},F="abcdefghijklmnopqrstuvwxyz0123456789".split(""),L=function(e){var t=e.rate,a=e.blind,r=e.targetWord,i=e.sayWord,l=e.commonErrorWord,s=e.onSuccess,f=e.onFail,d=c.a.useRef(),p=c.a.useState(""),m=Object(o.a)(p,2),h=m[0],g=m[1],b=h.length;c.a.useEffect((function(){if(0===b){var e=new SpeechSynthesisUtterance(i||r);e.voice=speechSynthesis.getVoices().find((function(e){return e.name.includes("English")})),t&&(e.rate=t),e.lang="en-UK",window.speechSynthesis.speak(e)}var a=r.split("")[b];d.current&&(F.filter((function(e){return e!==a})).forEach((function(e){return d.current.physicalKeyboard.handleHighlightKeyUp({key:e,code:"key"})})),d.current.physicalKeyboard.handleHighlightKeyDown({key:a,code:"key"}))}),[b,r,i,t]),c.a.useEffect((function(){var e=function(e){var t=e.key;F.includes(t)&&(r.split("")[b]===t?b===r.length-1?s():g((function(e){return e+t})):f(h+t))};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[f,s,b,r,g,h]);var y=l?r.split("").findIndex((function(e,t){return l.split("")[t]!==e})):void 0;return c.a.createElement(u.a,{position:"absolute",width:"100%",height:"100%",p:"10px",display:"flex",flexDirection:"column",alignItems:"center"},c.a.createElement(u.a,{display:"flex",flexDirection:"row"},c.a.createElement(A,{word:r.split("").map((function(e,t){return!a&&void 0!==y&&t===y&&t>=b?{char:e,type:n.Highlight}:!a||t<b?{char:e,type:t<b?n.Correct:n.Faded}:void 0}))})),!a&&c.a.createElement(u.a,{paddingTop:"80px",paddingX:"80px",alignSelf:"stretch"},c.a.createElement(S.a,{keyboardRef:function(e){d.current=e},onChange:function(){},onKeyPress:function(){}})))},P=a(30),W=a(48),B=a(49);!function(e){e.Success="SUCCESS",e.Fail="FAIL",e.Play="PLAY",e.Blind="BLIND"}(k||(k={}));var D=Object(E.a)({id:"success",initial:k.Blind,context:{},states:(O={},Object(v.a)(O,k.Play,{on:{success:k.Blind,fail:k.Fail}}),Object(v.a)(O,k.Blind,{on:{success:k.Success,fail:k.Fail}}),Object(v.a)(O,k.Fail,{after:{200:{target:k.Play,actions:[]}}}),Object(v.a)(O,k.Success,{after:{1e3:k.Blind}}),O)});var I,R,H=function(e){var t=e.words,a=e.multiply,n=e.onResult,r=c.a.useState((function(){for(var e=[],n=0;n<a;n++)e.push.apply(e,Object(y.a)(t));return function(e){for(var t=e,a=t.length-1;a>0;a--){var n=Math.floor(Math.random()*(a+1)),r=t[a];t[a]=t[n],t[n]=r}return t}(e)})),i=Object(o.a)(r,1)[0],l=c.a.useState((function(){return t.reduce((function(e,t){return console.log("re-reduce"),e[t]={failedAttempts:0},e}),{})})),s=Object(o.a)(l,2),f=s[0],d=s[1],p=Object(P.a)(W),m=Object(o.a)(p,1)[0],h=Object(P.a)(B),g=Object(o.a)(h,1)[0],b=Object(j.a)(D),v=Object(o.a)(b,2),E=v[0].value,w=v[1],S=c.a.useState(0),x=Object(o.a)(S,2),O=x[0],C=x[1],A=c.a.useState(void 0),F=Object(o.a)(A,2),I=F[0],R=F[1],H=i[O%i.length];return c.a.useEffect((function(){O===i.length&&n(f)}),[f,O,n,i]),E===k.Play?c.a.createElement(L,{key:"play",blind:!1,targetWord:H,commonErrorWord:I,onSuccess:function(){w({type:"success"}),m()},onFail:function(e){d((function(e){return e[H].failedAttempts++,e})),R(e),w({type:"fail"}),g()}}):E===k.Blind?c.a.createElement(L,{key:"blind",blind:!0,targetWord:H,onSuccess:function(){w({type:"success"}),m(),C((function(e){return e+1}))},onFail:function(e){d((function(e){return e[H].failedAttempts++,e})),R(e),w({type:"fail"}),g()}}):E===k.Success?c.a.createElement(u.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"green"}}):c.a.createElement(u.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"red"}})},K=a(48),U=a(49);!function(e){e.Success="SUCCESS",e.Fail="FAIL",e.Play="PLAY"}(R||(R={}));var N,q=Object(E.a)({id:"success",initial:R.Play,context:{},states:(I={},Object(v.a)(I,R.Play,{on:{success:R.Play,fail:R.Fail}}),Object(v.a)(I,R.Fail,{after:{200:{target:R.Play,actions:[]}}}),Object(v.a)(I,R.Success,{after:{1e3:R.Play}}),I)});!function(e){e.Letters="abcdefghijklmnopqrstuvwxyz",e.Numbers="0123456789",e.AlphaNumeric="abcdefghijklmnopqrstuvwxyz0123456789"}(N||(N={}));var z=function(e,t,a){return Object(y.a)(new Array(a)).map((function(a){return function(e,t){return Object(y.a)(new Array(t)).map((function(t){return Math.floor(Math.random()*e.length)})).map((function(t){return"".concat(e[t])})).join(" ")}(e,t)}))},M=function(e){var t=e.length,a=e.rate,n=e.type,r=c.a.useState(z(n,t,100)),i=Object(o.a)(r,1)[0],l=c.a.useState(0),s=Object(o.a)(l,2),f=s[0],d=s[1],p=i[f%i.length],m=Object(P.a)(K),h=Object(o.a)(m,1)[0],g=Object(P.a)(U),b=Object(o.a)(g,1)[0],y=Object(j.a)(q),v=Object(o.a)(y,2),E=v[0].value,w=v[1];return E===R.Play?c.a.createElement(L,{key:f,blind:!0,rate:a,targetWord:p.replace(/\s/g,""),sayWord:p,onSuccess:function(){w({type:"success"}),h(),d((function(e){return e+1}))},onFail:function(e){e.length>1&&console.log("".concat(p,"\n").concat(e," <-- error")),w({type:"fail"}),b(),d((function(e){return e+1}))}}):E===R.Success?c.a.createElement(u.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"green"}}):c.a.createElement(u.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"red"}})},V=["beautiful","didactic","esteem","Unfortunately","curiosity","believe","Interesting","quickly","processor","Rabbit","cancelled","inspiration","Possibly","especially","improvement","existing","happening","allowed","behavior","crucial","Existing","stretch","shuffle"].map((function(e){return e.toLocaleLowerCase()})),_={letters:N.Letters,numbers:N.Numbers,"alpha-numeric":N.AlphaNumeric};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement((function(){var e=c.a.useState("letters"),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useState(!1),i=Object(o.a)(r,2),l=i[0],y=i[1],v=c.a.useState(1),E=Object(o.a)(v,2),j=E[0],w=E[1],S=c.a.useState(6),x=Object(o.a)(S,2),O=x[0],k=x[1],C=c.a.useState(!1),A=Object(o.a)(C,2),F=A[0],L=A[1],P=c.a.useState(V),W=Object(o.a)(P,2),B=W[0],D=W[1],I=c.a.useState(void 0),R=Object(o.a)(I,2),K=R[0],U=R[1];return F?c.a.createElement(M,{length:O,rate:j,type:_[a]}):l?c.a.createElement(H,{onResult:function(e){console.log(e);var t=Object.entries(e).sort((function(e,t){return t[1].failedAttempts-e[1].failedAttempts})).map((function(e){return{word:e[0],failedAttempts:e[1].failedAttempts}}));U(t);var a=t.map((function(e){return e.word}));D(a),y(!1)},multiply:3,words:B.filter((function(e){return e.length>0})).map((function(e){return e.toLocaleLowerCase()})).map((function(e){return e.trim()}))}):c.a.createElement(u.a,{position:"absolute",top:"10px",bottom:"10px",left:"10px",right:"10px",display:"flex",flexDirection:"column",alignItems:"center"},K&&K.map((function(e,t){return c.a.createElement(u.a,{key:t},e.failedAttempts," - ",e.word)})),c.a.createElement(s.a,{value:B.join("\n"),onChange:function(e){if(e.target&&e.target.value){var t=e.target.value;D(t.toLocaleString().split("\n")),console.log(t)}}}),c.a.createElement(f.a,{onClick:function(){return y(!0)}},"Start"),c.a.createElement(u.a,{width:"200px"},"Speech Rate:",c.a.createElement(b.a,{value:j,onChange:function(e,t){return w(t)},defaultValue:1,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:.1,min:.3,max:2})),c.a.createElement(u.a,{width:"200px"},"Length:",c.a.createElement(b.a,{value:O,onChange:function(e,t){return k(t)},defaultValue:6,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,min:3,max:15})),c.a.createElement(d.a,{component:"fieldset"},c.a.createElement(p.a,{component:"legend"},"Type"),c.a.createElement(m.a,{"aria-label":"gender",name:"gender1",value:a,onChange:function(e,t){return n((function(){return t}))}},c.a.createElement(h.a,{value:"letters",control:c.a.createElement(g.a,null),label:"letters"}),c.a.createElement(h.a,{value:"numbers",control:c.a.createElement(g.a,null),label:"numbers"}),c.a.createElement(h.a,{value:"alpha-numeric",control:c.a.createElement(g.a,null),label:"alpha-numeric"}))),c.a.createElement(f.a,{onClick:function(){return L(!0)}},"Start Dictate"))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[61,1,2]]]);
//# sourceMappingURL=main.0a659578.chunk.js.map