(this.webpackJsonpmuscle_spelling=this.webpackJsonpmuscle_spelling||[]).push([[0],{62:function(e,t,a){e.exports=a.p+"static/media/success.a8e58690.mp3"},63:function(e,t,a){e.exports=a.p+"static/media/fail.23730a41.mp3"},78:function(e,t,a){e.exports=a(91)},83:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),c=a(16),l=a.n(c),o=(a(83),a(56)),u=a.n(o),s=a(64),d=a(15),f=(a(50),a(133)),p=a(127),m=a(128),g=a(129),h=a(130),b=a(140),y=a(137),v=a(134),w=a(138),E=a(46),x=a(26),j=a(136),S=a(135),O=a(65),k=a.n(O),C=a(124);!function(e){e[e.Faded=0]="Faded",e[e.Correct=1]="Correct",e[e.Highlight=2]="Highlight"}(n||(n={}));var D,L,P=function(e){switch(e){case n.Faded:return"#eee";case n.Correct:return"green";case n.Highlight:return"brown";default:return"#eee"}},A=function(e){var t=e.word;return i.a.createElement(f.a,{display:"flex",flexDirection:"row"},t.map((function(e,t){return i.a.createElement(f.a,{key:t,paddingRight:"7px"},i.a.createElement(C.a,{elevation:3},i.a.createElement(f.a,{width:"35px",height:"55px",textAlign:"center",fontSize:"45px",lineHeight:"1",color:P(e?e.type:void 0)},e?e.char:"_")))})))},F=i.a.createContext(void 0),W="abcdefghijklmnopqrstuvwxyz0123456789".split(""),I=function(e){var t=e.rate,a=e.blind,r=e.targetWord,c=e.sayWord,l=e.commonErrorWord,o=e.onSuccess,u=e.onFail,s=i.a.useRef(),p=i.a.useState(""),m=Object(d.a)(p,2),g=m[0],h=m[1],b=g.length,y=i.a.useContext(F);i.a.useEffect((function(){var e=new SpeechSynthesisUtterance(c||r);return e.voice=speechSynthesis.getVoices().find((function(e){return e.name.includes(y||"English")})),t&&(e.rate=t),e.lang="en-UK",window.speechSynthesis.speak(e),function(){return window.speechSynthesis.cancel()}}),[t,c,r,y]),i.a.useEffect((function(){var e=r.split("")[b];s.current&&(W.filter((function(t){return t!==e})).forEach((function(e){return s.current.physicalKeyboard.handleHighlightKeyUp({key:e,code:"key"})})),s.current.physicalKeyboard.handleHighlightKeyDown({key:e,code:"key"}))}),[b,r,c,t]),i.a.useEffect((function(){var e=function(e){var t=e.key;W.includes(t)&&(r.split("")[b]===t?b===r.length-1?(o(),window.gtag("event","success",{eventLabel:c||r})):h((function(e){return e+t})):(u(g+t),window.gtag("event","fail",{eventLabel:c||r})))};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[u,o,b,r,h,g,c]);var v=l?r.split("").findIndex((function(e,t){return l.split("")[t]!==e})):void 0;return i.a.createElement(f.a,{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},i.a.createElement(f.a,{display:"flex",flexDirection:"row",margin:"10px"},i.a.createElement(A,{word:r.split("").map((function(e,t){return!a&&void 0!==v&&t===v&&t>=b?{char:e,type:n.Highlight}:!a||t<b?{char:e,type:t<b?n.Correct:n.Faded}:void 0}))})),!a&&i.a.createElement(i.a.Fragment,null,window.navigator.language&&window.navigator.language.includes("tr")&&i.a.createElement(f.a,{onClick:function(){window.gtag("event","link",{eventLabel:"link"});var e=window.open("http://tracking.preply.com/aff_c?offer_id=7&aff_id=2311","_blank");e&&e.focus()},paddingTop:"25px",maxWidth:"300px",textAlign:"center",color:"blue",style:{cursor:"pointer",textDecoration:"underline"}},"Preply ile IELTS ve TOELF gibi s\u0131navlara haz\u0131rlanmak eskisinden daha kolay. Preply sayesinde ihtiya\xe7lar\u0131n\u0131 kar\u015f\u0131layacak \xf6\u011fretmenlerle ileti\u015fim kur, vaktini de\u011ferli kullan."),i.a.createElement(f.a,{paddingTop:"80px",paddingX:"80px",alignSelf:"stretch"},i.a.createElement(k.a,{keyboardRef:function(e){s.current=e},onChange:function(){},onKeyPress:function(){}}))))},T=a(41),N=a(62),B=a(63);!function(e){e.Success="SUCCESS",e.Fail="FAIL",e.Play="PLAY",e.Blind="BLIND"}(L||(L={}));var z=Object(j.a)({id:"success",initial:L.Blind,context:{},states:(D={},Object(x.a)(D,L.Play,{on:{success:L.Blind,fail:L.Fail}}),Object(x.a)(D,L.Blind,{on:{success:L.Success,fail:L.Fail}}),Object(x.a)(D,L.Fail,{after:{200:{target:L.Play,actions:[]}}}),Object(x.a)(D,L.Success,{after:{1e3:L.Blind}}),D)});var H,R,V=function(e){var t=e.words,a=e.multiply,n=e.onResult,r=i.a.useState((function(){for(var e=[],n=0;n<a;n++)e.push.apply(e,Object(E.a)(t));return function(e){for(var t=e,a=t.length-1;a>0;a--){var n=Math.floor(Math.random()*(a+1)),r=t[a];t[a]=t[n],t[n]=r}return t}(e)})),c=Object(d.a)(r,1)[0],l=i.a.useState((function(){return t.reduce((function(e,t){return console.log("re-reduce"),e[t]={failedAttempts:0},e}),{})})),o=Object(d.a)(l,2),u=o[0],s=o[1],p=Object(T.a)(N),m=Object(d.a)(p,1)[0],g=Object(T.a)(B),h=Object(d.a)(g,1)[0],b=Object(S.a)(z),y=Object(d.a)(b,2),v=y[0].value,w=y[1],x=i.a.useState(0),j=Object(d.a)(x,2),O=j[0],k=j[1],C=i.a.useState(void 0),D=Object(d.a)(C,2),P=D[0],A=D[1],F=c[O%c.length];return i.a.useEffect((function(){O===c.length&&n(u)}),[u,O,n,c]),v===L.Play?i.a.createElement(I,{key:"play",blind:!1,targetWord:F,commonErrorWord:P,onSuccess:function(){w({type:"success"}),m()},onFail:function(e){s((function(e){return e[F].failedAttempts++,e})),A(e),w({type:"fail"}),h()}}):v===L.Blind?i.a.createElement(I,{key:"blind",blind:!0,targetWord:F,onSuccess:function(){w({type:"success"}),m(),k((function(e){return e+1}))},onFail:function(e){s((function(e){return e[F].failedAttempts++,e})),A(e),w({type:"fail"}),h()}}):v===L.Success?i.a.createElement(f.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"green"}}):i.a.createElement(f.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"red"}})},_=a(70),K=new(a.n(_).a),M=a(62),U=a(63);!function(e){e.Success="SUCCESS",e.Fail="FAIL",e.Play="PLAY"}(R||(R={}));var $,q=Object(j.a)({id:"success",initial:R.Play,context:{},states:(H={},Object(x.a)(H,R.Play,{on:{success:R.Play,fail:R.Fail}}),Object(x.a)(H,R.Fail,{after:{200:{target:R.Play,actions:[]}}}),Object(x.a)(H,R.Success,{after:{1e3:R.Play}}),H)});!function(e){e.Letters="abcdefghijklmnopqrstuvwxyz",e.Numbers="0123456789",e.NumbersDoubleAndTriple="0123456789DT",e.AlphaNumeric="abcdefghijklmnopqrstuvwxyz0123456789",e.Word="word"}($||($={}));var J=function(e,t,a){return Object(E.a)(new Array(a)).map((function(a){return e===$.Word?K.createWord(t).split("").join(". "):function(e,t){return Object(E.a)(new Array(t)).map((function(t){return Math.floor(Math.random()*e.length)})).map((function(t){var a=e[t];if(e===$.NumbersDoubleAndTriple&&("D"===a||"T"===a)){var n=$.Numbers[Math.floor(Math.random()*$.Numbers.length)];return"".concat("D"===a?"double":"triple"," ").concat(n)}return a})).join(". ")}(e,t)}))},Y=function(e){var t=e.length,a=e.rate,n=e.type,r=i.a.useState(J(n,t,100)),c=Object(d.a)(r,1)[0],l=i.a.useState(0),o=Object(d.a)(l,2),u=o[0],s=o[1],p=c[u%c.length],m=p.replace(/double (\d)/g,"$1$1").replace(/triple (\d)/g,"$1$1$1").replace(/\s/g,"").replace(/\./g,"").replace(/,/g,""),g=p,h=Object(T.a)(M),b=Object(d.a)(h,1)[0],y=Object(T.a)(U),v=Object(d.a)(y,1)[0],w=Object(S.a)(q),E=Object(d.a)(w,2),x=E[0].value,j=E[1];return x===R.Play?i.a.createElement(I,{key:u,blind:!0,rate:a,targetWord:m,sayWord:"It is ".concat(g),onSuccess:function(){j({type:"success"}),b(),s((function(e){return e+1}))},onFail:function(e){e.length>1&&console.log("".concat(p,"\n").concat(e," <-- error")),j({type:"fail"}),v(),s((function(e){return e+1}))}}):x===R.Success?i.a.createElement(f.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"green"}}):i.a.createElement(f.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"red"}})},X=a(139),G=a(131),Q=["beautiful","didactic","esteem","Unfortunately","curiosity","believe","Interesting","quickly","processor","Rabbit","cancelled","inspiration","Possibly","especially","improvement","existing","happening","allowed","behavior","crucial","Existing","stretch","shuffle"].map((function(e){return e.toLocaleLowerCase()})),Z={letters:$.Letters,numbers:$.Numbers,numbersDT:$.NumbersDoubleAndTriple,"alpha-numeric":$.AlphaNumeric,word:$.Word};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement((function(){var e=i.a.useState("letters"),t=Object(d.a)(e,2),a=t[0],n=t[1],c=i.a.useState(!1),l=Object(d.a)(c,2),o=l[0],E=l[1],x=i.a.useState(1),j=Object(d.a)(x,2),S=j[0],O=j[1],k=i.a.useState(6),C=Object(d.a)(k,2),D=C[0],L=C[1],P=i.a.useState(!1),A=Object(d.a)(P,2),W=A[0],I=A[1],T=i.a.useState(Q),N=Object(d.a)(T,2),B=N[0],z=N[1],H=i.a.useState(void 0),R=Object(d.a)(H,2),_=R[0],K=R[1],M=i.a.useState([]),U=Object(d.a)(M,2),$=U[0],q=U[1];Object(r.useEffect)((function(){Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=q,e.next=3,new Promise((function(e,t){var a,n=window.speechSynthesis;a=setInterval((function(){0!==n.getVoices().length&&(e(n.getVoices()),clearInterval(a))}),10)}));case 3:e.t1=function(e){return e.name},e.t2=function(e){return e.includes("nglish")},e.t3=e.sent.map(e.t1).filter(e.t2),(0,e.t0)(e.t3);case 7:case"end":return e.stop()}}),e)})))()}),[]);var J=i.a.useState("Default voice"),ee=Object(d.a)(J,2),te=ee[0],ae=ee[1];return W?i.a.createElement(F.Provider,{value:te},i.a.createElement(Y,{length:D,rate:S,type:Z[a]})):o?i.a.createElement(F.Provider,{value:te},i.a.createElement(V,{onResult:function(e){console.log(e);var t=Object.entries(e).sort((function(e,t){return t[1].failedAttempts-e[1].failedAttempts})).map((function(e){return{word:e[0],failedAttempts:e[1].failedAttempts}}));K(t);var a=t.map((function(e){return e.word}));z(a),E(!1)},multiply:3,words:B.filter((function(e){return e.length>0})).map((function(e){return e.toLocaleLowerCase()})).map((function(e){return e.trim()}))})):i.a.createElement(f.a,{position:"absolute",top:"10px",bottom:"10px",left:"10px",right:"10px",display:"flex",flexDirection:"row",justifyContent:"space-around"},i.a.createElement(f.a,{display:"flex",flexDirection:"column",alignItems:"top"},i.a.createElement(f.a,{m:"10px",fontSize:"25px"},"Practice spelling:"),_&&_.map((function(e,t){return i.a.createElement(f.a,{key:t},e.failedAttempts," - ",e.word)})),i.a.createElement(p.a,{value:B.join("\n"),onChange:function(e){if(e.target&&e.target.value){var t=e.target.value;z(t.toLocaleString().split("\n")),console.log(t)}}}),i.a.createElement(m.a,{onClick:function(){return E(!0)}},"Start")),i.a.createElement(f.a,{display:"flex",flexDirection:"column",alignItems:"center"},i.a.createElement(f.a,{m:"10px",fontSize:"25px"},"Practice writing down when dictated:"),i.a.createElement(f.a,{width:"200px"},"Speech Rate: ",S,i.a.createElement(w.a,{value:S,onChange:function(e,t){return O(t)},defaultValue:1,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:.1,min:.3,max:2})),i.a.createElement(f.a,{width:"200px"},"Length: ",D,i.a.createElement(w.a,{value:D,onChange:function(e,t){return L(t)},defaultValue:6,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,min:3,max:15})),i.a.createElement(g.a,{component:"fieldset"},i.a.createElement(h.a,{component:"legend"},"Type"),i.a.createElement(b.a,{"aria-label":"gender",name:"gender1",value:a,onChange:function(e,t){return n((function(){return t}))}},i.a.createElement(y.a,{value:"letters",control:i.a.createElement(v.a,null),label:"letters"}),i.a.createElement(y.a,{value:"numbers",control:i.a.createElement(v.a,null),label:"numbers"}),i.a.createElement(y.a,{value:"numbersDT",control:i.a.createElement(v.a,null),label:"numbers + double + triple"}),i.a.createElement(y.a,{value:"alpha-numeric",control:i.a.createElement(v.a,null),label:"alpha-numeric"}),i.a.createElement(y.a,{value:"word",control:i.a.createElement(v.a,null),label:"word (lorem ipsum)"}))),i.a.createElement(f.a,null,i.a.createElement(G.a,{value:te||"Default Voice",onChange:function(e){return ae(e.target.value)}},i.a.createElement(X.a,{disabled:!0,value:"Default voice"},"Default Voice"),$.map((function(e,t){return i.a.createElement(X.a,{key:t,value:e},e)})))),i.a.createElement(m.a,{onClick:function(){return I(!0)}},"Start")))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[78,1,2]]]);
//# sourceMappingURL=main.90c8235f.chunk.js.map