(this.webpackJsonpmuscle_spelling=this.webpackJsonpmuscle_spelling||[]).push([[0],{50:function(e,t,n){e.exports=n(62)},55:function(e,t,n){},60:function(e,t,n){e.exports=n.p+"static/media/success.a8e58690.mp3"},61:function(e,t,n){e.exports=n.p+"static/media/fail.23730a41.mp3"},62:function(e,t,n){"use strict";n.r(t);var a,r=n(1),i=n.n(r),o=n(21),c=n.n(o),l=(n(55),n(11)),u=(n(33),n(77)),s=n(81),f=n(78),d=n(44),p=n(29),h=n(80),m=n(79),g=n(39),y=n.n(g),b=n(82);!function(e){e[e.Faded=0]="Faded",e[e.Correct=1]="Correct",e[e.Highlight=2]="Highlight"}(a||(a={}));var v,w,E=function(e){switch(e){case a.Faded:return"#eee";case a.Correct:return"green";case a.Highlight:return"brown";default:return"#eee"}},x=function(e){var t=e.word;return i.a.createElement(u.a,{display:"flex",flexDirection:"row"},t.map((function(e,t){return i.a.createElement(u.a,{key:t,paddingRight:"20px"},i.a.createElement(b.a,{elevation:3},i.a.createElement(u.a,{width:"70px",height:"90px",textAlign:"center",fontSize:"70px",color:E(e?e.type:void 0)},e?e.char:"_")))})))},S="abcdefghijklmnopqrstuvwxyz".split(""),j=function(e){var t=e.blind,n=e.targetWord,r=e.commonErrorWord,o=e.onSuccess,c=e.onFail,s=i.a.useRef(),f=i.a.useState(""),d=Object(l.a)(f,2),p=d[0],h=d[1],m=p.length;i.a.useEffect((function(){if(0===m){var e=new SpeechSynthesisUtterance(n);window.speechSynthesis.speak(e)}var t=n.split("")[m];s.current&&(S.filter((function(e){return e!==t})).forEach((function(e){return s.current.physicalKeyboard.handleHighlightKeyUp({key:e,code:"key"})})),s.current.physicalKeyboard.handleHighlightKeyDown({key:t,code:"key"}))}),[m,n]),i.a.useEffect((function(){var e=function(e){var t=e.key;S.includes(t)&&(n.split("")[m]===t?m===n.length-1?o():h((function(e){return e+t})):c(p+t))};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[c,o,m,n,h,p]);var g=r?n.split("").findIndex((function(e,t){return r.split("")[t]!==e})):void 0;return i.a.createElement(u.a,{position:"absolute",width:"100%",height:"100%",p:"10px",display:"flex",flexDirection:"column",alignItems:"center"},i.a.createElement(u.a,{display:"flex",flexDirection:"row"},i.a.createElement(x,{word:n.split("").map((function(e,n){return!t&&void 0!==g&&n===g&&n>=m?{char:e,type:a.Highlight}:!t||n<m?{char:e,type:n<m?a.Correct:a.Faded}:void 0}))})),!t&&i.a.createElement(u.a,{paddingTop:"80px",paddingX:"80px",alignSelf:"stretch"},i.a.createElement(y.a,{keyboardRef:function(e){s.current=e},onChange:function(){},onKeyPress:function(){}})))},k=n(35),O=n(60),C=n(61);!function(e){e.Success="SUCCESS",e.Fail="FAIL",e.Play="PLAY",e.Blind="BLIND"}(w||(w={}));var F=Object(h.a)({id:"success",initial:w.Blind,context:{},states:(v={},Object(p.a)(v,w.Play,{on:{success:w.Blind,fail:w.Fail}}),Object(p.a)(v,w.Blind,{on:{success:w.Success,fail:w.Fail}}),Object(p.a)(v,w.Fail,{after:{200:{target:w.Play,actions:[]}}}),Object(p.a)(v,w.Success,{after:{1e3:w.Blind}}),v)});var A=function(e){var t=e.words,n=e.multiply,a=e.onResult,r=i.a.useState((function(){for(var e=[],a=0;a<n;a++)e.push.apply(e,Object(d.a)(t));return function(e){for(var t=e,n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),r=t[n];t[n]=t[a],t[a]=r}return t}(e)})),o=Object(l.a)(r,1)[0],c=i.a.useState((function(){return t.reduce((function(e,t){return console.log("re-reduce"),e[t]={failedAttempts:0},e}),{})})),s=Object(l.a)(c,2),f=s[0],p=s[1],h=Object(k.a)(O),g=Object(l.a)(h,1)[0],y=Object(k.a)(C),b=Object(l.a)(y,1)[0],v=Object(m.a)(F),E=Object(l.a)(v,2),x=E[0].value,S=E[1],A=i.a.useState(0),L=Object(l.a)(A,2),B=L[0],I=L[1],P=i.a.useState(void 0),W=Object(l.a)(P,2),D=W[0],H=W[1],R=o[B%o.length];return i.a.useEffect((function(){B===o.length&&a(f)}),[f,B,a,o]),x===w.Play?i.a.createElement(j,{key:"play",blind:!1,targetWord:R,commonErrorWord:D,onSuccess:function(){S({type:"success"}),g()},onFail:function(e){p((function(e){return e[R].failedAttempts++,e})),H(e),S({type:"fail"}),b()}}):x===w.Blind?i.a.createElement(j,{key:"blind",blind:!0,targetWord:R,onSuccess:function(){S({type:"success"}),g(),I((function(e){return e+1}))},onFail:function(e){p((function(e){return e[R].failedAttempts++,e})),H(e),S({type:"fail"}),b()}}):x===w.Success?i.a.createElement(u.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"green"}}):i.a.createElement(u.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"red"}})},L=["beautiful","didactic","esteem","Unfortunately","curiosity","believe","Interesting","quickly","processor","Rabbit","cancelled","inspiration","Possibly","especially","improvement","existing","happening","allowed","behavior","crucial","Existing","stretch","shuffle"].map((function(e){return e.toLocaleLowerCase()}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement((function(){var e=i.a.useState(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],r=i.a.useState(L),o=Object(l.a)(r,2),c=o[0],d=o[1],p=i.a.useState(void 0),h=Object(l.a)(p,2),m=h[0],g=h[1];return n?i.a.createElement(A,{onResult:function(e){console.log(e);var t=Object.entries(e).sort((function(e,t){return t[1].failedAttempts-e[1].failedAttempts})).map((function(e){return{word:e[0],failedAttempts:e[1].failedAttempts}}));g(t);var n=t.map((function(e){return e.word}));d(n),a(!1)},multiply:3,words:c.filter((function(e){return e.length>0})).map((function(e){return e.toLocaleLowerCase()})).map((function(e){return e.trim()}))}):i.a.createElement(u.a,{position:"absolute",width:"100%",height:"100%",p:"10px",display:"flex",flexDirection:"column",alignItems:"center"},m&&m.map((function(e,t){return i.a.createElement(u.a,{key:t},e.failedAttempts," - ",e.word)})),i.a.createElement(s.a,{value:c.join("\n"),onChange:function(e){if(e.target&&e.target.value){var t=e.target.value;d(t.toLocaleString().split("\n")),console.log(t)}}}),i.a.createElement(f.a,{onClick:function(){return a(!0)}},"Start"))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[50,1,2]]]);
//# sourceMappingURL=main.6081dddc.chunk.js.map